---
outline: deep
---

## 整合原因

工作中，前端平时很少涉及这种带有支付内容的相关工作。

老公司遇到相关的工作，因为是大型订单，所以往往会很慎重的把这些事情放在后端进行逻辑处理。

前端所做的事，往往就是点点按钮，带着参数简单传一下，连价格都不需要处理。

而且，老公司内有专门的测试去处理相关业务，平时很少接触这个流程的，我这个前端平时活比较少，所以这里客串一下测试。

新公司的小程序项目，业务偏向于C端，有一些支付相关的操作，且我这边测试加开发，也算是熟悉了相关业务。

考虑到这种情况未来说不定会自己要做独立项目有用，这里整理一下，给将来的自己一些助力。



## 测试场景

这里的测试场景，只是初步做了个整合，将来支付业务做得更多的时候，我会更加详细的整理。



### 订单提交

1. 前端必须引入精度库，处理数据精度，避免出现提交的订单数据出问题
2. 价格展示，是否保留两位小数展示用，如果不确定这点，最好和设计确认
3. 用户支付过程中，关于订单的金额计算不要放在前端，一定要交给后端处理（只提交商品信息即可）
4. 用户如果长期不支付，需要自动关闭订单，这点需要后端做处理，时间一到自动关闭订单，且前端也要展示出支付倒计时
5. 用户如果再次购买，要确认订单按照之前的价格结算，还是按照优惠后的价格结算



### 地址选择

1. 如果地址在国内，需要按照省市区的格式联动（一般前端组件选择器中都有）
1. 用户可能会有自提，正常收货两种情况，在切换的时候，需要保证用户填写的地址不会因为切换丢失
1. 用户填写完地址后，感觉不妥，要能够编辑地址
1. 用户选择的地址，如果是移动端，需要有地图定位自动填充替换
